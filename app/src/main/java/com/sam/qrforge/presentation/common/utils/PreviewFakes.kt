@file:OptIn(ExperimentalTime::class)

package com.sam.qrforge.presentation.common.utils

import com.sam.qrforge.domain.enums.QRDataType
import com.sam.qrforge.domain.models.SavedQRModel
import com.sam.qrforge.domain.models.qr.QREmailModel
import com.sam.qrforge.domain.models.qr.QRPlainTextModel
import com.sam.qrforge.presentation.common.models.GeneratedQRUIModel
import com.sam.qrforge.presentation.feature_home.state.SavedAndGeneratedQRModel
import kotlinx.collections.immutable.toImmutableList
import kotlinx.datetime.LocalDateTime
import kotlin.time.ExperimentalTime

private const val FAKE_UI_MATRIX_25_X_25 =
	"""
	0000000000000000000000000
	0000000000000000000000000
	0011111110010110111111100
	0010000010011100100000100
	0010111010110110101110100
	0010111010010100101110100
	0010111010001010101110100
	0010000010000010100000100
	0011111110101010111111100
	0000000000110110000000000
	0011101111111101100010000
	0011011000011000100101000
	0001101010011010001011100
	0010110101000000100001100
	0000011110111010101000100
	0000000000100101010110000
	0011111110101101110001100
	0010000010111111011101100
	0010111010100101110010100
	0010111010001000100011000
	0010111010101010001000100
	0010000010110000100011100
	0011111110110010101010100
	0000000000000000000000000
	0000000000000000000000000
	"""

private const val FAKE_UI_MATRIX_29_X_29 =
	"""
		00000000000000000000000000000
		00000000000000000000000000000
		00111111100101000100111111100
		00100000101011111110100000100
		00101110100101010010101110100
		00101110101010011100101110100
		00101110100110101100101110100
		00100000101101111100100000100
		00111111101010101010111111100
		00000000000101001000000000000
		00111110111100011111010101000
		00110111010001101001011000100
		00110001110011111111101011100
		00011001001001000011010101100
		00000110111110101111101111100
		00101101011000101101100001100
		00100110110110111001101111000
		00101011000001101010010001100
		00101010101110010111111000100
		00000000001000100110001000100
		00111111101001011110101111100
		00100000100111001110001010000
		00101110101100000111111110000
		00101110101010100111000001100
		00101110101010111100100010100
		00100000101001010101101001000
		00111111101010101001000101100
		00000000000000000000000000000
		00000000000000000000000000000
	"""


private const val FAKE_UI_MATRIX_37_X_37 =
	"""
		0000000000000000000000000000000000000
		0000000000000000000000000000000000000
		0011111110111010000101101110111111100
		0010000010111000001101011110100000100
		0010111010101101011000001010101110100
		0010111010110100111110011100101110100
		0010111010000001101011001010101110100
		0010000010100111110010111010100000100
		0011111110101010101010101010111111100
		0000000000010010100111101000000000000
		0011001110000101111010011000010111100
		0001011001011010000101100010000110100
		0001100110100111110010100010000111000
		0001101101101101011000011010101010100
		0011000010001011000001111001110000100
		0011110101110001101011001011101111000
		0010111111001000001101011101010010000
		0010000001011010100111111011101001100
		0011100110001101111010000011100010100
		0011000101010010000101110001100011100
		0000010011001111110010100001010111000
		0010111100011101011000001010111101000
		0000011010111011000001101010000010100
		0011111000110001101011000010010110100
		0000001011011000001101011111000111100
		0000100101110010100111110011101101000
		0011011010100101111010000011111001100
		0000000000111010000101111010001111100
		0011111110011111110010100010101111000
		0010000010111101011000001110001010100
		0010111010111011000001101011111101000
		0010111010011001101011000100100110100
		0010111010001000001101011001100010000
		0010000010111010100111110001010001100
		0011111110110101111010000111010110100
		0000000000000000000000000000000000000
		0000000000000000000000000000000000000
	"""

object PreviewFakes {

	private fun strToBoolArray(string: String): BooleanArray {
		return string.trimIndent()
			.filterNot { it == '\n' }
			.map { it == '1' }
			.toBooleanArray()
	}

	val FAKE_GENERATED_UI_MODEL_SMALL = GeneratedQRUIModel(
		dimension = 25,
		margin = 2,
		boolArray = strToBoolArray(FAKE_UI_MATRIX_25_X_25)
	)

	val FAKE_GENERATED_UI_MODEL = GeneratedQRUIModel(
		dimension = 29,
		margin = 2,
		boolArray = strToBoolArray(FAKE_UI_MATRIX_29_X_29)
	)

	val FAKE_GENERATED_UI_MODEL_4 = GeneratedQRUIModel(
		dimension = 37,
		margin = 2,
		boolArray = strToBoolArray(FAKE_UI_MATRIX_37_X_37)
	)


	val FAKE_QR_MODEL = SavedQRModel(
		id = 0L,
		title = "Basic Test",
		isFav = true,
		desc = "A basic qr showing some data",
		content = QRPlainTextModel("This is a large content").toQRString(),
		format = QRDataType.TYPE_TEXT,
		createdAt = LocalDateTime(2025, 8, 15, 0, 0, 0),
	)

	val FAKE_QR_MODEL_2 = SavedQRModel(
		id = 0L,
		title = "My mail",
		isFav = false,
		desc = "Sending all the queries to this mail",
		content = QREmailModel(
			address = "bhowmicktuhhin34@gmail.com",
			subject = "Query",
			body = "I am having issue with"
		).toQRString(),
		format = QRDataType.TYPE_EMAIL,
		createdAt = LocalDateTime(2025, 8, 15, 0, 0, 0),
	)

	val FAKE_IMMUTABLE_LIST_QR_MODEL = List(20) {
		SavedAndGeneratedQRModel(
			FAKE_QR_MODEL,
			FAKE_GENERATED_UI_MODEL
		)
	}.toImmutableList()
}

